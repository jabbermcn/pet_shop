{% extends 'blog/base.html' %}
{% load static %}

{% block title %}
Detail Page
{% endblock %}

{% block content %}
<!-- Blog Start -->
<div class="container py-5">
    <div class="row g-5">
        <div class="col-lg-8">
            <!-- Blog Detail Start -->
            <div class="mb-5">
                <img class="img-fluid w-100 rounded mb-5" src="{{ post.image.url }}" alt="">
                <h1 class="text-uppercase mb-4">Some text title</h1>
                <p>Some text</p>
            </div>
            <!-- Blog Detail End -->

            <!-- Comment List Start -->
            <div class="mb-5">
                <h3 class="text-uppercase border-start border-5 border-primary ps-3 mb-4">{{ comments.count }}</h3>
                {% for comment in comments %}
                <div class="d-flex mb-4">
                    <div class="ps-3">
                        <h6><a href="">{{ comment.author }}</a> <small><i>{{ comment.date_published }}</i></small></h6>
                        <p>{{ comment.message }}</p>
<!--                        <button class="btn btn-sm btn-light">Reply</button>-->
                    </div>
                </div>
                {% endfor %}
            </div>
            <!-- Comment List End -->

            <!-- Comment Form Start -->
            <div class="bg-light rounded p-5">
                <h3 class="text-uppercase border-start border-5 border-primary ps-3 mb-4">Leave a comment</h3>
                <form method="post">
                    <input name="form" value="commentForm" hidden>
                    <input name="post" value="{{ post.id }}" hidden>
                    <input name="author" value="{{ user.id }}" hidden>
                    <input name="email" value="{{ user.email }}" hidden>
                    {% csrf_token %}
                    <div class="row g-3">
                        <div class="col-12">
                            {{ comment_form.message }}
                        </div>
                        <div class="col-12">
                            <button class="btn btn-primary w-100 py-3" type="submit">Leave Your Comment</button>
                        </div>
                    </div>
                </form>
            </div>
            <!-- Comment Form End -->
        </div>

        <!-- Sidebar Start -->
        <div class="col-lg-4">
            <!-- Search Form Start -->
            <div class="mb-5">
                <div class="input-group">
                    <input type="text" class="form-control p-3" placeholder="Keyword">
                    <button class="btn btn-primary px-4"><i class="bi bi-search"></i></button>
                </div>
            </div>
            <!-- Search Form End -->

            <!-- Recent Post Start -->
            <div class="mb-5">
                <h3 class="text-uppercase border-start border-5 border-primary ps-3 mb-4">Recent Post</h3>
                <div class="d-flex overflow-hidden mb-3">
                    <img class="img-fluid" src="{{ post.image.url }}"
                         style="width: 100px; height: 100px; object-fit: cover;"
                         alt="">
                    <a href="" class="h5 d-flex align-items-center bg-light px-3 mb-0">{{ post.text }}</a>
                </div>
            </div>
            <!-- Recent Post End -->

            <!-- Image Start -->
            <div class="mb-5">
                <img src="{% static 'img/blog-1.jpg' %}" alt="" class="img-fluid rounded">
            </div>
            <!-- Image End -->

        </div>
        <!-- Sidebar End -->
    </div>
</div>
<!-- Blog End -->
{% endblock %}